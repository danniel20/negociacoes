{"version":3,"sources":["../../app-es6/services/HttpService.js"],"names":["HttpService","res","ok","Error","statusText","url","fetch","then","_handleErros","json","dado","headers","method","body","JSON","stringify"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;0BAAaA,W;;;;;;;kCAECC,G,EAAI;;AAEhB,UAAG,CAACA,IAAIC,EAAR,EAAW;AACV,aAAM,IAAIC,KAAJ,CAAUF,IAAIG,UAAd,CAAN;AACA;;AAED,aAAOH,GAAP;AACA;;;yBAEGI,G,EAAI;AAAA;;AAEP;AACA,aAAOC,MAAMD,GAAN,EACJE,IADI,CACC;AAAA,cAAO,MAAKC,YAAL,CAAkBP,GAAlB,CAAP;AAAA,OADD,EAEJM,IAFI,CAEC;AAAA,cAAON,IAAIQ,IAAJ,EAAP;AAAA,OAFD,CAAP;;AAIA;;;;;;;;;;;;;;;;;;AAsBA;;;0BAEKJ,G,EAAKK,I,EAAM;AAAA;;AAEf;AACA,aAAOJ,MAAMD,GAAN,EAAW;AACjBM,gBAAS,EAAC,gBAAgB,kBAAjB,EADQ;AAEjBC,eAAQ,MAFS;AAGjBC,aAAMC,KAAKC,SAAL,CAAeL,IAAf;AAHW,OAAX,EAKNH,IALM,CAKD;AAAA,cAAO,OAAKC,YAAL,CAAkBP,GAAlB,CAAP;AAAA,OALC,CAAP;;AAOA;;;;;;;;;;;;;;;;;AAuBE","file":"HttpService.js","sourcesContent":["export class HttpService {\n\n\t_handleErros(res){\n\n\t\tif(!res.ok){\n\t\t\tthrow new Error(res.statusText);\n\t\t}\n\n\t\treturn res;\n\t}\n\n\tget(url){\n\n\t\t//usando fetch api ECMA 2016\n\t\treturn fetch(url)\n\t\t\t\t.then(res => this._handleErros(res))\n\t\t\t\t.then(res => res.json());\n\n\t\t/*\n\t\treturn new Promise((resolve, reject) => {\n\n\t\t\tlet xhr = new XMLHttpRequest();\n\n\t\t\txhr.open(\"GET\", url);\n\t\t\t\n\t\t\txhr.onreadystatechange = () => {\n\t\t\t\t\n\t\t\t\tif(xhr.readyState == 4){\n\t\t\t\t\tif(xhr.status == 200){\t\t\t\t\t\t\n\t\t\t\t\t\tresolve(JSON.parse(xhr.responseText));\n\t\t\t\t\t\t\n\t\t\t\t\t}else{\n\t\t\t\t\t\treject(xhr.responseText);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\n\t\t\txhr.send();\n\n\t\t});*/\n\t}\n\n\t post(url, dado) {\n\n\t \t//usando fetch api\n\t \treturn fetch(url, {\n\t \t\theaders: {\"Content-type\": \"application/json\"},\n\t \t\tmethod: 'post',\n\t \t\tbody: JSON.stringify(dado)\n\t \t})\n\t \t.then(res => this._handleErros(res));\n\n\t \t/*\n        return new Promise((resolve, reject) => {\n\n            let xhr = new XMLHttpRequest();\n            xhr.open(\"POST\", url, true);\n            xhr.setRequestHeader(\"Content-type\", \"application/json\");\n            xhr.onreadystatechange = () => {\n\n                if (xhr.readyState == 4) {\n\n                    if (xhr.status == 200) {\n\n                        resolve(JSON.parse(xhr.responseText));\n                    } else {\n\n                        reject(xhr.responseText);\n                    }\n                }\n            };\n            \n            xhr.send(JSON.stringify(dado));\n        });*/\n\n    }\n}"]}